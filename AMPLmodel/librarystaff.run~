# -----------------------------------
# Run file
# -----------------------------------

# Master Thesis: Work Distribution of a Heterogeneous Library Staff - A Personnel Task Scheduling Problem
# Master Students: Claes Arvidson and Emelie Karlsson
# First version: 2016-02-09

reset;                  
option solver cplexamp;    # Choose solver
option presolve 0;
option omit_zero_cols 1;   # No zeros printed in columns
option omit_zero_rows 1;   # No zeros printed in rows
option display_1col 10000; # Only one column printed
option cplex_options "timing 1 mipdisplay 2"; # Time measurement and printing

model librarystaff.mod;   # Read model file 
data librarystaff.dat;    # Read data file 

#expand > librarystaff.res; # Writes all results to file
                   # Not necessary but good for debugging
#display _sconname[7474];
#display _sconname[10];
#display J;
#exit;
# Solve the problem
solve;


### Display of results ###
param shift_change;

let shift_change := sum{i in I}(sum{w in 1..4}(sum{w_prim in (w+1)..5}(sum{d in 1..5}(sum{s in 1..3} abs(y[i,w,d,s]-y[i,w_prim,d,s])))));

printf "\n The number of shiftchanges in total were: %d \n \n", shift_change;

param number_of_workers := 39;
let Shifts := 1..number_of_workers;

#Loop fÃ¶r Shift_list{Shifts}

##########################

#display shifts_that_differ_between_weeks;

#display shifts_that_differ_between_weeks;
# Print in terminal of objective function value (inactive)
#display cost;
#display y1;
#display y2;
#display y3;
#display x;

#Utskrift av villkor, tex slack
#display villkorsnamn.slack;

### display the variables ###
display _varname, _var > librarystaff.res;

#display task_worker_demand;
